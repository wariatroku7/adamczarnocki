/******/ (function(modules) { // webpackBootstrap
/******/ 	// The module cache
/******/ 	var installedModules = {};
/******/
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/
/******/ 		// Check if module is in cache
/******/ 		if(installedModules[moduleId])
/******/ 			return installedModules[moduleId].exports;
/******/
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = installedModules[moduleId] = {
/******/ 			exports: {},
/******/ 			id: moduleId,
/******/ 			loaded: false
/******/ 		};
/******/
/******/ 		// Execute the module function
/******/ 		modules[moduleId].call(module.exports, module, module.exports, __webpack_require__);
/******/
/******/ 		// Flag the module as loaded
/******/ 		module.loaded = true;
/******/
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/
/******/
/******/ 	// expose the modules object (__webpack_modules__)
/******/ 	__webpack_require__.m = modules;
/******/
/******/ 	// expose the module cache
/******/ 	__webpack_require__.c = installedModules;
/******/
/******/ 	// __webpack_public_path__
/******/ 	__webpack_require__.p = "";
/******/
/******/ 	// Load entry module and return exports
/******/ 	return __webpack_require__(0);
/******/ })
/************************************************************************/
/******/ ([
/* 0 */
/***/ (function(module, exports) {

	var app = angular.module('upToWork',["xeditable"]);
	
	app.run(function(editableOptions) {
	  editableOptions.theme = 'bs3';
	});
	
	app.directive('generalInfo', function(){
	  return {
	    restrict: 'E',
	    templateUrl: './tpl/generalInfo.html'
	  };
	});
	app.directive('proExp', function(){
	  return {
	    restrict: 'E',
	    templateUrl: './tpl/proExp.html'
	  };
	});
	app.directive('skills', function(){
	  return {
	    restrict: 'E',
	    templateUrl: './tpl/skills.html'
	  };
	});
	
	app.controller('generalInfoCtrl', function($scope, $http) {
	    $http({
	        method : "GET",
	        url : "/json/generalInfo.json"
	    }).then(function mySuccess(response) {
	        $scope.info = response.data;
	    }, function myError(response) {
	        $scope.info = response.statusText;
	    });
	
	    $scope.editorEnabled = false;
	
	    $scope.enableEditor = function() {
	      $scope.editorEnabled = true;
	      $scope.editableTitle = $scope.info.name;
	      $scope.editablePosition = $scope.info.position;
	      $scope.editablePhone = $scope.info.phone;
	      $scope.editableMail = $scope.info.mail;
	      $scope.editableBirthday = $scope.info.birthday;
	      $scope.editableLocation = $scope.info.location;
	    };
	
	    $scope.disableEditor = function() {
	      $scope.editorEnabled = false;
	    };
	
	    $scope.save = function() {
	      $scope.info.name = $scope.editableTitle;
	      $scope.info.position = $scope.editablePosition;
	      $scope.info.phone = $scope.editablePhone;
	      $scope.info.mail = $scope.editableMail;
	      $scope.info.birthday = $scope.editableBirthday;
	      $scope.info.location = $scope.editableLocation;
	      $scope.disableEditor();
	    };
	});
	
	// app.controller('proExpCtrl', function($scope, $http) {
	//     $http({
	//         method : "GET",
	//         url : "/json/proExp.json"
	//     }).then(function mySuccess(response) {
	//         $scope.exps = response.data;
	//     }, function myError(response) {
	//         $scope.exps = response.statusText;
	//     });
	//
	//     $scope.editorEnabled = false;
	//
	//     $scope.enableEditor = function() {
	//       $scope.editorEnabled = true;
	//       $scope.editablePosition = $scope.exps.position;
	//       $scope.editableCompany = $scope.exps.company;
	//       $scope.editableStart = $scope.exps.start;
	//       $scope.editableEnd = $scope.exps.end;
	//       $scope.editableTask0 = $scope.exps.tasks[0].desc;
	//       $scope.editableTask1 = $scope.exps.tasks[1].desc;
	//       $scope.editableTask2 = $scope.exps.tasks[2].desc;
	//       $scope.editableTask3 = $scope.exps.tasks[3].desc;
	//       $scope.editableTask4 = $scope.exps.tasks[4].desc;
	//     };
	//
	//     $scope.disableEditor = function() {
	//       $scope.editorEnabled = false;
	//     };
	//
	//     $scope.save = function() {
	//       $scope.exps.position = $scope.editablePosition;
	//       $scope.exps.company = $scope.editableCompany;
	//       $scope.exps.start = $scope.editableStart;
	//       $scope.exps.end = $scope.editableEnd;
	//       $scope.exps.tasks[0].desc = $scope.editableTask0;
	//       $scope.exps.tasks[1].desc = $scope.editableTask1;
	//       $scope.exps.tasks[2].desc = $scope.editableTask2;
	//       $scope.exps.tasks[3].desc = $scope.editableTask3;
	//       $scope.exps.tasks[4].desc = $scope.editableTask4;
	//       $scope.disableEditor();
	//     };
	// });
	
	app.controller('proExpCtrl', function($scope, $http, $filter) {
	    $http({
	        method : "GET",
	        url : "/json/proExp.json"
	    }).then(function mySuccess(response) {
	        $scope.exps = response.data.exps;
	    }, function myError(response) {
	        $scope.exps = response.statusText;
	    });
	
	    // // mark tech as deleted
	    // $scope.deleteExp = function(id) {
	    //   var filtered = $filter('filter')($scope.exps, {id: id});
	    //   if (filtered.length) {
	    //     filtered[0].isDeleted = true;
	    //   }
	    // };
	
	    // // filter exps to show
	    // $scope.filterExp = function(exps) {
	    //   return exps.isDeleted !== true;
	    // };
	
	    // add tech
	    $scope.addExp = function() {
	      $scope.exps.push({
	        id: $scope.exps.length+1,
	        position: '',
	        company: '',
	        start: '',
	        end: '',
	        tasks: ['']
	      });
	    };
	
	    $scope.addTask = function(i) {
	      $scope.exps[i].tasks.push({
	        id: $scope.exps[i].tasks.length,
	        desc: ''
	      });
	    };
	
	});
	
	
	//Xeditable controller for the table with skills
	app.controller('EditableTableCtrl', function($scope, $filter, $http, $q) {
	
	  $http({
	      method : "GET",
	      url : "/json/skills.json"
	  }).then(function mySuccess(response) {
	      $scope.techs = response.data.skills["techs"];
	      $scope.statuses = response.data.skills["statuses"];
	  }, function myError(response) {
	      $scope.techs = response.statusText;
	      $scope.statuses = response.statusText;
	  });
	
	  $scope.showStatus = function(tech) {
	    var selected = [];
	    if(tech.status) {
	      selected = $filter('filter')($scope.statuses, {value: tech.status});
	    }
	    return selected.length ? selected[0].text : 'Not set';
	  };
	
	  // filter techs to show
	  $scope.filterTech = function(tech) {
	    return tech.isDeleted !== true;
	  };
	
	  // mark tech as deleted
	  $scope.deleteTech = function(id) {
	    var filtered = $filter('filter')($scope.techs, {id: id});
	    if (filtered.length) {
	      filtered[0].isDeleted = true;
	    }
	  };
	
	  // add tech
	  $scope.addTech = function() {
	    $scope.techs.push({
	      id: $scope.techs.length+1,
	      name: '',
	      status: null,
	      group: null,
	      isNew: true
	    });
	  };
	
	  // cancel all changes
	  $scope.cancel = function() {
	    for (var i = $scope.techs.length; i--;) {
	      var tech = $scope.techs[i];
	      // undelete
	      if (tech.isDeleted) {
	        delete tech.isDeleted;
	      }
	      // remove new
	      if (tech.isNew) {
	        $scope.techs.splice(i, 1);
	      }
	    };
	  };
	
	  // save edits
	  $scope.saveTable = function() {
	    var results = [];
	    for (var i = $scope.techs.length; i--;) {
	      var tech = $scope.techs[i];
	      // actually delete tech
	      if (tech.isDeleted) {
	        $scope.techs.splice(i, 1);
	      }
	      // mark as not new
	      if (tech.isNew) {
	        tech.isNew = false;
	      }
	
	    }
	
	    return $q.all(results);
	  };
	});


/***/ })
/******/ ]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2VicGFjay9ib290c3RyYXAgN2QyZTkxMTVjMGVkYTU5NDkxNzIiLCJ3ZWJwYWNrOi8vLy4vanMvYXBwLmpzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7QUFBQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSx1QkFBZTtBQUNmO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOzs7QUFHQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOzs7Ozs7O0FDdENBOztBQUVBO0FBQ0E7QUFDQSxFQUFDOztBQUVEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxFQUFDO0FBQ0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEVBQUM7QUFDRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsRUFBQzs7QUFFRDtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQUs7QUFDTDtBQUNBLE1BQUs7QUFDTDtBQUNBLE1BQUs7O0FBRUw7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxFQUFDOztBQUVEO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUTtBQUNSO0FBQ0EsU0FBUTtBQUNSO0FBQ0EsU0FBUTtBQUNSO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFJOztBQUVKO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBSztBQUNMO0FBQ0EsTUFBSztBQUNMO0FBQ0EsTUFBSzs7QUFFTDtBQUNBO0FBQ0EseURBQXdELE9BQU87QUFDL0Q7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsUUFBTztBQUNQOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsUUFBTztBQUNQOztBQUVBLEVBQUM7OztBQUdEO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsSUFBRztBQUNIO0FBQ0E7QUFDQSxJQUFHO0FBQ0g7QUFDQTtBQUNBLElBQUc7O0FBRUg7QUFDQTtBQUNBO0FBQ0Esc0RBQXFELG1CQUFtQjtBQUN4RTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLHFEQUFvRCxPQUFPO0FBQzNEO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFLO0FBQ0w7O0FBRUE7QUFDQTtBQUNBLHNDQUFxQyxLQUFLO0FBQzFDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0Esc0NBQXFDLEtBQUs7QUFDMUM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQSxFQUFDIiwiZmlsZSI6ImFwcC5taW4uanMiLCJzb3VyY2VzQ29udGVudCI6WyIgXHQvLyBUaGUgbW9kdWxlIGNhY2hlXG4gXHR2YXIgaW5zdGFsbGVkTW9kdWxlcyA9IHt9O1xuXG4gXHQvLyBUaGUgcmVxdWlyZSBmdW5jdGlvblxuIFx0ZnVuY3Rpb24gX193ZWJwYWNrX3JlcXVpcmVfXyhtb2R1bGVJZCkge1xuXG4gXHRcdC8vIENoZWNrIGlmIG1vZHVsZSBpcyBpbiBjYWNoZVxuIFx0XHRpZihpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSlcbiBcdFx0XHRyZXR1cm4gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0uZXhwb3J0cztcblxuIFx0XHQvLyBDcmVhdGUgYSBuZXcgbW9kdWxlIChhbmQgcHV0IGl0IGludG8gdGhlIGNhY2hlKVxuIFx0XHR2YXIgbW9kdWxlID0gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0gPSB7XG4gXHRcdFx0ZXhwb3J0czoge30sXG4gXHRcdFx0aWQ6IG1vZHVsZUlkLFxuIFx0XHRcdGxvYWRlZDogZmFsc2VcbiBcdFx0fTtcblxuIFx0XHQvLyBFeGVjdXRlIHRoZSBtb2R1bGUgZnVuY3Rpb25cbiBcdFx0bW9kdWxlc1ttb2R1bGVJZF0uY2FsbChtb2R1bGUuZXhwb3J0cywgbW9kdWxlLCBtb2R1bGUuZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXyk7XG5cbiBcdFx0Ly8gRmxhZyB0aGUgbW9kdWxlIGFzIGxvYWRlZFxuIFx0XHRtb2R1bGUubG9hZGVkID0gdHJ1ZTtcblxuIFx0XHQvLyBSZXR1cm4gdGhlIGV4cG9ydHMgb2YgdGhlIG1vZHVsZVxuIFx0XHRyZXR1cm4gbW9kdWxlLmV4cG9ydHM7XG4gXHR9XG5cblxuIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGVzIG9iamVjdCAoX193ZWJwYWNrX21vZHVsZXNfXylcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubSA9IG1vZHVsZXM7XG5cbiBcdC8vIGV4cG9zZSB0aGUgbW9kdWxlIGNhY2hlXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmMgPSBpbnN0YWxsZWRNb2R1bGVzO1xuXG4gXHQvLyBfX3dlYnBhY2tfcHVibGljX3BhdGhfX1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5wID0gXCJcIjtcblxuIFx0Ly8gTG9hZCBlbnRyeSBtb2R1bGUgYW5kIHJldHVybiBleHBvcnRzXG4gXHRyZXR1cm4gX193ZWJwYWNrX3JlcXVpcmVfXygwKTtcblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyB3ZWJwYWNrL2Jvb3RzdHJhcCA3ZDJlOTExNWMwZWRhNTk0OTE3MiIsInZhciBhcHAgPSBhbmd1bGFyLm1vZHVsZSgndXBUb1dvcmsnLFtcInhlZGl0YWJsZVwiXSk7XHJcblxyXG5hcHAucnVuKGZ1bmN0aW9uKGVkaXRhYmxlT3B0aW9ucykge1xyXG4gIGVkaXRhYmxlT3B0aW9ucy50aGVtZSA9ICdiczMnO1xyXG59KTtcclxuXHJcbmFwcC5kaXJlY3RpdmUoJ2dlbmVyYWxJbmZvJywgZnVuY3Rpb24oKXtcclxuICByZXR1cm4ge1xyXG4gICAgcmVzdHJpY3Q6ICdFJyxcclxuICAgIHRlbXBsYXRlVXJsOiAnLi90cGwvZ2VuZXJhbEluZm8uaHRtbCdcclxuICB9O1xyXG59KTtcclxuYXBwLmRpcmVjdGl2ZSgncHJvRXhwJywgZnVuY3Rpb24oKXtcclxuICByZXR1cm4ge1xyXG4gICAgcmVzdHJpY3Q6ICdFJyxcclxuICAgIHRlbXBsYXRlVXJsOiAnLi90cGwvcHJvRXhwLmh0bWwnXHJcbiAgfTtcclxufSk7XHJcbmFwcC5kaXJlY3RpdmUoJ3NraWxscycsIGZ1bmN0aW9uKCl7XHJcbiAgcmV0dXJuIHtcclxuICAgIHJlc3RyaWN0OiAnRScsXHJcbiAgICB0ZW1wbGF0ZVVybDogJy4vdHBsL3NraWxscy5odG1sJ1xyXG4gIH07XHJcbn0pO1xyXG5cclxuYXBwLmNvbnRyb2xsZXIoJ2dlbmVyYWxJbmZvQ3RybCcsIGZ1bmN0aW9uKCRzY29wZSwgJGh0dHApIHtcclxuICAgICRodHRwKHtcclxuICAgICAgICBtZXRob2QgOiBcIkdFVFwiLFxyXG4gICAgICAgIHVybCA6IFwiL2pzb24vZ2VuZXJhbEluZm8uanNvblwiXHJcbiAgICB9KS50aGVuKGZ1bmN0aW9uIG15U3VjY2VzcyhyZXNwb25zZSkge1xyXG4gICAgICAgICRzY29wZS5pbmZvID0gcmVzcG9uc2UuZGF0YTtcclxuICAgIH0sIGZ1bmN0aW9uIG15RXJyb3IocmVzcG9uc2UpIHtcclxuICAgICAgICAkc2NvcGUuaW5mbyA9IHJlc3BvbnNlLnN0YXR1c1RleHQ7XHJcbiAgICB9KTtcclxuXHJcbiAgICAkc2NvcGUuZWRpdG9yRW5hYmxlZCA9IGZhbHNlO1xyXG5cclxuICAgICRzY29wZS5lbmFibGVFZGl0b3IgPSBmdW5jdGlvbigpIHtcclxuICAgICAgJHNjb3BlLmVkaXRvckVuYWJsZWQgPSB0cnVlO1xyXG4gICAgICAkc2NvcGUuZWRpdGFibGVUaXRsZSA9ICRzY29wZS5pbmZvLm5hbWU7XHJcbiAgICAgICRzY29wZS5lZGl0YWJsZVBvc2l0aW9uID0gJHNjb3BlLmluZm8ucG9zaXRpb247XHJcbiAgICAgICRzY29wZS5lZGl0YWJsZVBob25lID0gJHNjb3BlLmluZm8ucGhvbmU7XHJcbiAgICAgICRzY29wZS5lZGl0YWJsZU1haWwgPSAkc2NvcGUuaW5mby5tYWlsO1xyXG4gICAgICAkc2NvcGUuZWRpdGFibGVCaXJ0aGRheSA9ICRzY29wZS5pbmZvLmJpcnRoZGF5O1xyXG4gICAgICAkc2NvcGUuZWRpdGFibGVMb2NhdGlvbiA9ICRzY29wZS5pbmZvLmxvY2F0aW9uO1xyXG4gICAgfTtcclxuXHJcbiAgICAkc2NvcGUuZGlzYWJsZUVkaXRvciA9IGZ1bmN0aW9uKCkge1xyXG4gICAgICAkc2NvcGUuZWRpdG9yRW5hYmxlZCA9IGZhbHNlO1xyXG4gICAgfTtcclxuXHJcbiAgICAkc2NvcGUuc2F2ZSA9IGZ1bmN0aW9uKCkge1xyXG4gICAgICAkc2NvcGUuaW5mby5uYW1lID0gJHNjb3BlLmVkaXRhYmxlVGl0bGU7XHJcbiAgICAgICRzY29wZS5pbmZvLnBvc2l0aW9uID0gJHNjb3BlLmVkaXRhYmxlUG9zaXRpb247XHJcbiAgICAgICRzY29wZS5pbmZvLnBob25lID0gJHNjb3BlLmVkaXRhYmxlUGhvbmU7XHJcbiAgICAgICRzY29wZS5pbmZvLm1haWwgPSAkc2NvcGUuZWRpdGFibGVNYWlsO1xyXG4gICAgICAkc2NvcGUuaW5mby5iaXJ0aGRheSA9ICRzY29wZS5lZGl0YWJsZUJpcnRoZGF5O1xyXG4gICAgICAkc2NvcGUuaW5mby5sb2NhdGlvbiA9ICRzY29wZS5lZGl0YWJsZUxvY2F0aW9uO1xyXG4gICAgICAkc2NvcGUuZGlzYWJsZUVkaXRvcigpO1xyXG4gICAgfTtcclxufSk7XHJcblxyXG4vLyBhcHAuY29udHJvbGxlcigncHJvRXhwQ3RybCcsIGZ1bmN0aW9uKCRzY29wZSwgJGh0dHApIHtcclxuLy8gICAgICRodHRwKHtcclxuLy8gICAgICAgICBtZXRob2QgOiBcIkdFVFwiLFxyXG4vLyAgICAgICAgIHVybCA6IFwiL2pzb24vcHJvRXhwLmpzb25cIlxyXG4vLyAgICAgfSkudGhlbihmdW5jdGlvbiBteVN1Y2Nlc3MocmVzcG9uc2UpIHtcclxuLy8gICAgICAgICAkc2NvcGUuZXhwcyA9IHJlc3BvbnNlLmRhdGE7XHJcbi8vICAgICB9LCBmdW5jdGlvbiBteUVycm9yKHJlc3BvbnNlKSB7XHJcbi8vICAgICAgICAgJHNjb3BlLmV4cHMgPSByZXNwb25zZS5zdGF0dXNUZXh0O1xyXG4vLyAgICAgfSk7XHJcbi8vXHJcbi8vICAgICAkc2NvcGUuZWRpdG9yRW5hYmxlZCA9IGZhbHNlO1xyXG4vL1xyXG4vLyAgICAgJHNjb3BlLmVuYWJsZUVkaXRvciA9IGZ1bmN0aW9uKCkge1xyXG4vLyAgICAgICAkc2NvcGUuZWRpdG9yRW5hYmxlZCA9IHRydWU7XHJcbi8vICAgICAgICRzY29wZS5lZGl0YWJsZVBvc2l0aW9uID0gJHNjb3BlLmV4cHMucG9zaXRpb247XHJcbi8vICAgICAgICRzY29wZS5lZGl0YWJsZUNvbXBhbnkgPSAkc2NvcGUuZXhwcy5jb21wYW55O1xyXG4vLyAgICAgICAkc2NvcGUuZWRpdGFibGVTdGFydCA9ICRzY29wZS5leHBzLnN0YXJ0O1xyXG4vLyAgICAgICAkc2NvcGUuZWRpdGFibGVFbmQgPSAkc2NvcGUuZXhwcy5lbmQ7XHJcbi8vICAgICAgICRzY29wZS5lZGl0YWJsZVRhc2swID0gJHNjb3BlLmV4cHMudGFza3NbMF0uZGVzYztcclxuLy8gICAgICAgJHNjb3BlLmVkaXRhYmxlVGFzazEgPSAkc2NvcGUuZXhwcy50YXNrc1sxXS5kZXNjO1xyXG4vLyAgICAgICAkc2NvcGUuZWRpdGFibGVUYXNrMiA9ICRzY29wZS5leHBzLnRhc2tzWzJdLmRlc2M7XHJcbi8vICAgICAgICRzY29wZS5lZGl0YWJsZVRhc2szID0gJHNjb3BlLmV4cHMudGFza3NbM10uZGVzYztcclxuLy8gICAgICAgJHNjb3BlLmVkaXRhYmxlVGFzazQgPSAkc2NvcGUuZXhwcy50YXNrc1s0XS5kZXNjO1xyXG4vLyAgICAgfTtcclxuLy9cclxuLy8gICAgICRzY29wZS5kaXNhYmxlRWRpdG9yID0gZnVuY3Rpb24oKSB7XHJcbi8vICAgICAgICRzY29wZS5lZGl0b3JFbmFibGVkID0gZmFsc2U7XHJcbi8vICAgICB9O1xyXG4vL1xyXG4vLyAgICAgJHNjb3BlLnNhdmUgPSBmdW5jdGlvbigpIHtcclxuLy8gICAgICAgJHNjb3BlLmV4cHMucG9zaXRpb24gPSAkc2NvcGUuZWRpdGFibGVQb3NpdGlvbjtcclxuLy8gICAgICAgJHNjb3BlLmV4cHMuY29tcGFueSA9ICRzY29wZS5lZGl0YWJsZUNvbXBhbnk7XHJcbi8vICAgICAgICRzY29wZS5leHBzLnN0YXJ0ID0gJHNjb3BlLmVkaXRhYmxlU3RhcnQ7XHJcbi8vICAgICAgICRzY29wZS5leHBzLmVuZCA9ICRzY29wZS5lZGl0YWJsZUVuZDtcclxuLy8gICAgICAgJHNjb3BlLmV4cHMudGFza3NbMF0uZGVzYyA9ICRzY29wZS5lZGl0YWJsZVRhc2swO1xyXG4vLyAgICAgICAkc2NvcGUuZXhwcy50YXNrc1sxXS5kZXNjID0gJHNjb3BlLmVkaXRhYmxlVGFzazE7XHJcbi8vICAgICAgICRzY29wZS5leHBzLnRhc2tzWzJdLmRlc2MgPSAkc2NvcGUuZWRpdGFibGVUYXNrMjtcclxuLy8gICAgICAgJHNjb3BlLmV4cHMudGFza3NbM10uZGVzYyA9ICRzY29wZS5lZGl0YWJsZVRhc2szO1xyXG4vLyAgICAgICAkc2NvcGUuZXhwcy50YXNrc1s0XS5kZXNjID0gJHNjb3BlLmVkaXRhYmxlVGFzazQ7XHJcbi8vICAgICAgICRzY29wZS5kaXNhYmxlRWRpdG9yKCk7XHJcbi8vICAgICB9O1xyXG4vLyB9KTtcclxuXHJcbmFwcC5jb250cm9sbGVyKCdwcm9FeHBDdHJsJywgZnVuY3Rpb24oJHNjb3BlLCAkaHR0cCwgJGZpbHRlcikge1xyXG4gICAgJGh0dHAoe1xyXG4gICAgICAgIG1ldGhvZCA6IFwiR0VUXCIsXHJcbiAgICAgICAgdXJsIDogXCIvanNvbi9wcm9FeHAuanNvblwiXHJcbiAgICB9KS50aGVuKGZ1bmN0aW9uIG15U3VjY2VzcyhyZXNwb25zZSkge1xyXG4gICAgICAgICRzY29wZS5leHBzID0gcmVzcG9uc2UuZGF0YS5leHBzO1xyXG4gICAgfSwgZnVuY3Rpb24gbXlFcnJvcihyZXNwb25zZSkge1xyXG4gICAgICAgICRzY29wZS5leHBzID0gcmVzcG9uc2Uuc3RhdHVzVGV4dDtcclxuICAgIH0pO1xyXG5cclxuICAgIC8vIC8vIG1hcmsgdGVjaCBhcyBkZWxldGVkXHJcbiAgICAvLyAkc2NvcGUuZGVsZXRlRXhwID0gZnVuY3Rpb24oaWQpIHtcclxuICAgIC8vICAgdmFyIGZpbHRlcmVkID0gJGZpbHRlcignZmlsdGVyJykoJHNjb3BlLmV4cHMsIHtpZDogaWR9KTtcclxuICAgIC8vICAgaWYgKGZpbHRlcmVkLmxlbmd0aCkge1xyXG4gICAgLy8gICAgIGZpbHRlcmVkWzBdLmlzRGVsZXRlZCA9IHRydWU7XHJcbiAgICAvLyAgIH1cclxuICAgIC8vIH07XHJcblxyXG4gICAgLy8gLy8gZmlsdGVyIGV4cHMgdG8gc2hvd1xyXG4gICAgLy8gJHNjb3BlLmZpbHRlckV4cCA9IGZ1bmN0aW9uKGV4cHMpIHtcclxuICAgIC8vICAgcmV0dXJuIGV4cHMuaXNEZWxldGVkICE9PSB0cnVlO1xyXG4gICAgLy8gfTtcclxuXHJcbiAgICAvLyBhZGQgdGVjaFxyXG4gICAgJHNjb3BlLmFkZEV4cCA9IGZ1bmN0aW9uKCkge1xyXG4gICAgICAkc2NvcGUuZXhwcy5wdXNoKHtcclxuICAgICAgICBpZDogJHNjb3BlLmV4cHMubGVuZ3RoKzEsXHJcbiAgICAgICAgcG9zaXRpb246ICcnLFxyXG4gICAgICAgIGNvbXBhbnk6ICcnLFxyXG4gICAgICAgIHN0YXJ0OiAnJyxcclxuICAgICAgICBlbmQ6ICcnLFxyXG4gICAgICAgIHRhc2tzOiBbJyddXHJcbiAgICAgIH0pO1xyXG4gICAgfTtcclxuXHJcbiAgICAkc2NvcGUuYWRkVGFzayA9IGZ1bmN0aW9uKGkpIHtcclxuICAgICAgJHNjb3BlLmV4cHNbaV0udGFza3MucHVzaCh7XHJcbiAgICAgICAgaWQ6ICRzY29wZS5leHBzW2ldLnRhc2tzLmxlbmd0aCxcclxuICAgICAgICBkZXNjOiAnJ1xyXG4gICAgICB9KTtcclxuICAgIH07XHJcblxyXG59KTtcclxuXHJcblxyXG4vL1hlZGl0YWJsZSBjb250cm9sbGVyIGZvciB0aGUgdGFibGUgd2l0aCBza2lsbHNcclxuYXBwLmNvbnRyb2xsZXIoJ0VkaXRhYmxlVGFibGVDdHJsJywgZnVuY3Rpb24oJHNjb3BlLCAkZmlsdGVyLCAkaHR0cCwgJHEpIHtcclxuXHJcbiAgJGh0dHAoe1xyXG4gICAgICBtZXRob2QgOiBcIkdFVFwiLFxyXG4gICAgICB1cmwgOiBcIi9qc29uL3NraWxscy5qc29uXCJcclxuICB9KS50aGVuKGZ1bmN0aW9uIG15U3VjY2VzcyhyZXNwb25zZSkge1xyXG4gICAgICAkc2NvcGUudGVjaHMgPSByZXNwb25zZS5kYXRhLnNraWxsc1tcInRlY2hzXCJdO1xyXG4gICAgICAkc2NvcGUuc3RhdHVzZXMgPSByZXNwb25zZS5kYXRhLnNraWxsc1tcInN0YXR1c2VzXCJdO1xyXG4gIH0sIGZ1bmN0aW9uIG15RXJyb3IocmVzcG9uc2UpIHtcclxuICAgICAgJHNjb3BlLnRlY2hzID0gcmVzcG9uc2Uuc3RhdHVzVGV4dDtcclxuICAgICAgJHNjb3BlLnN0YXR1c2VzID0gcmVzcG9uc2Uuc3RhdHVzVGV4dDtcclxuICB9KTtcclxuXHJcbiAgJHNjb3BlLnNob3dTdGF0dXMgPSBmdW5jdGlvbih0ZWNoKSB7XHJcbiAgICB2YXIgc2VsZWN0ZWQgPSBbXTtcclxuICAgIGlmKHRlY2guc3RhdHVzKSB7XHJcbiAgICAgIHNlbGVjdGVkID0gJGZpbHRlcignZmlsdGVyJykoJHNjb3BlLnN0YXR1c2VzLCB7dmFsdWU6IHRlY2guc3RhdHVzfSk7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gc2VsZWN0ZWQubGVuZ3RoID8gc2VsZWN0ZWRbMF0udGV4dCA6ICdOb3Qgc2V0JztcclxuICB9O1xyXG5cclxuICAvLyBmaWx0ZXIgdGVjaHMgdG8gc2hvd1xyXG4gICRzY29wZS5maWx0ZXJUZWNoID0gZnVuY3Rpb24odGVjaCkge1xyXG4gICAgcmV0dXJuIHRlY2guaXNEZWxldGVkICE9PSB0cnVlO1xyXG4gIH07XHJcblxyXG4gIC8vIG1hcmsgdGVjaCBhcyBkZWxldGVkXHJcbiAgJHNjb3BlLmRlbGV0ZVRlY2ggPSBmdW5jdGlvbihpZCkge1xyXG4gICAgdmFyIGZpbHRlcmVkID0gJGZpbHRlcignZmlsdGVyJykoJHNjb3BlLnRlY2hzLCB7aWQ6IGlkfSk7XHJcbiAgICBpZiAoZmlsdGVyZWQubGVuZ3RoKSB7XHJcbiAgICAgIGZpbHRlcmVkWzBdLmlzRGVsZXRlZCA9IHRydWU7XHJcbiAgICB9XHJcbiAgfTtcclxuXHJcbiAgLy8gYWRkIHRlY2hcclxuICAkc2NvcGUuYWRkVGVjaCA9IGZ1bmN0aW9uKCkge1xyXG4gICAgJHNjb3BlLnRlY2hzLnB1c2goe1xyXG4gICAgICBpZDogJHNjb3BlLnRlY2hzLmxlbmd0aCsxLFxyXG4gICAgICBuYW1lOiAnJyxcclxuICAgICAgc3RhdHVzOiBudWxsLFxyXG4gICAgICBncm91cDogbnVsbCxcclxuICAgICAgaXNOZXc6IHRydWVcclxuICAgIH0pO1xyXG4gIH07XHJcblxyXG4gIC8vIGNhbmNlbCBhbGwgY2hhbmdlc1xyXG4gICRzY29wZS5jYW5jZWwgPSBmdW5jdGlvbigpIHtcclxuICAgIGZvciAodmFyIGkgPSAkc2NvcGUudGVjaHMubGVuZ3RoOyBpLS07KSB7XHJcbiAgICAgIHZhciB0ZWNoID0gJHNjb3BlLnRlY2hzW2ldO1xyXG4gICAgICAvLyB1bmRlbGV0ZVxyXG4gICAgICBpZiAodGVjaC5pc0RlbGV0ZWQpIHtcclxuICAgICAgICBkZWxldGUgdGVjaC5pc0RlbGV0ZWQ7XHJcbiAgICAgIH1cclxuICAgICAgLy8gcmVtb3ZlIG5ld1xyXG4gICAgICBpZiAodGVjaC5pc05ldykge1xyXG4gICAgICAgICRzY29wZS50ZWNocy5zcGxpY2UoaSwgMSk7XHJcbiAgICAgIH1cclxuICAgIH07XHJcbiAgfTtcclxuXHJcbiAgLy8gc2F2ZSBlZGl0c1xyXG4gICRzY29wZS5zYXZlVGFibGUgPSBmdW5jdGlvbigpIHtcclxuICAgIHZhciByZXN1bHRzID0gW107XHJcbiAgICBmb3IgKHZhciBpID0gJHNjb3BlLnRlY2hzLmxlbmd0aDsgaS0tOykge1xyXG4gICAgICB2YXIgdGVjaCA9ICRzY29wZS50ZWNoc1tpXTtcclxuICAgICAgLy8gYWN0dWFsbHkgZGVsZXRlIHRlY2hcclxuICAgICAgaWYgKHRlY2guaXNEZWxldGVkKSB7XHJcbiAgICAgICAgJHNjb3BlLnRlY2hzLnNwbGljZShpLCAxKTtcclxuICAgICAgfVxyXG4gICAgICAvLyBtYXJrIGFzIG5vdCBuZXdcclxuICAgICAgaWYgKHRlY2guaXNOZXcpIHtcclxuICAgICAgICB0ZWNoLmlzTmV3ID0gZmFsc2U7XHJcbiAgICAgIH1cclxuXHJcbiAgICB9XHJcblxyXG4gICAgcmV0dXJuICRxLmFsbChyZXN1bHRzKTtcclxuICB9O1xyXG59KTtcclxuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9qcy9hcHAuanNcbi8vIG1vZHVsZSBpZCA9IDBcbi8vIG1vZHVsZSBjaHVua3MgPSAwIl0sInNvdXJjZVJvb3QiOiIifQ==